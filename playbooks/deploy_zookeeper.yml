---
# ZooKeeper-only deployment playbook

- name: Apply common configuration to ZooKeeper nodes
  hosts: zookeeper
  gather_facts: true
  roles:
    - role: common

- name: Install Java on ZooKeeper nodes
  hosts: zookeeper
  gather_facts: true
  roles:
    - role: java

- name: Deploy ZooKeeper cluster
  hosts: zookeeper
  gather_facts: true
  serial: 1
  roles:
    - role: zookeeper
      vars:
        zookeeper_cluster_nodes: "{{ groups['zookeeper'] }}"
        zookeeper_myid: "{{ groups['zookeeper'].index(inventory_hostname) + 1 }}"
