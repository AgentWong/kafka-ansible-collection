# ZooKeeper JVM environment configuration
# Managed by Ansible - do not edit manually

# Heap size
export JVMFLAGS="{{ zookeeper_jvm_opts }}"

# GC settings
export JVMFLAGS="${JVMFLAGS} -XX:+UseG1GC"
export JVMFLAGS="${JVMFLAGS} -XX:MaxGCPauseMillis=20"
export JVMFLAGS="${JVMFLAGS} -XX:InitiatingHeapOccupancyPercent=35"
export JVMFLAGS="${JVMFLAGS} -XX:+ExplicitGCInvokesConcurrent"

# Logging
export ZOO_LOG_DIR="{{ zookeeper_log_dir }}"
export ZOO_LOG4J_PROP="INFO,ROLLINGFILE"

{% if zookeeper_tls_enabled %}
# TLS/SSL settings for JVM
export JVMFLAGS="${JVMFLAGS} -Dzookeeper.ssl.keyStore.location={{ zookeeper_keystore_path }}"
export JVMFLAGS="${JVMFLAGS} -Dzookeeper.ssl.keyStore.password={{ zookeeper_keystore_password }}"
export JVMFLAGS="${JVMFLAGS} -Dzookeeper.ssl.trustStore.location={{ zookeeper_truststore_path }}"
export JVMFLAGS="${JVMFLAGS} -Dzookeeper.ssl.trustStore.password={{ zookeeper_truststore_password }}"
{% endif %}
